<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">




<title>根据手势上下方向，显示或隐藏部分内容(vue) | 自在生活</title>

<link rel="stylesheet" href="https://www.at719.com/css/styles.css">

<link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.8.1/css/all.css" 
 crossorigin="anonymous">
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js" ></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/zenburn.min.css"  />
<script src="https://cdn.bootcss.com/highlight.js/9.15.6/highlight.min.js"  crossorigin="anonymous" ></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://www.at719.com/js/highlight.js"></script>




<div class="container">
    <nav class="navbar level">
      <div class="navbar-brand">
          <a class="nav-item" href="https://www.at719.com"><h1 class="title is-3">自在生活</h1></a>
      </div>           
      <div class="navbar-menu has-text-centered is-active">
          <div class="navbar-end is-centered">
              
                <a href="https://github.com/junlv/">
                  <span class="icon">
                    <i class="fab fa-github"></i>
                  </span>
                </a>
              
                <a href="https://www.at719.com">
                  <span class="icon">
                    <i class="fa fa-home"></i>
                  </span>
                </a>
              
                <a href="https://github.com/junlv/junlv.github.io/issues">
                  <span class="icon">
                    <i class="fa fa-question-circle"></i>
                  </span>
                </a>
              
           </div>
      </div>
    </nav>
  </div>
<div class="container">
  <aside>
        
  </aside>
  <h2 class="subtitle is-6">November 26, 2018 tags: 
      
      
         &nbsp;&nbsp;<a href="https://www.at719.com/tags/vue">vue</a> 
      
         &nbsp;&nbsp;<a href="https://www.at719.com/tags/web">web</a> 
      
    
  </h2>
  <h1 class="subtitle is-size-4-mobile is-size-3-desktop">根据手势上下方向，显示或隐藏部分内容(vue)</h1>
  <div class="content">
    <p>如图</p>

<p><img src="https://www.at719.com/xassets/autoscroll2.gif" alt="显示或隐藏" /></p>

<pre><code class="language-javascript">
&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;div class=&quot;menu&quot; v-bind:class=&quot;{'menu-show': showmenu, 'menu-hide': !showmenu }&quot; &gt;
      &lt;button&gt;button1&lt;/button&gt;
      &lt;button&gt;button2&lt;/button&gt;
      &lt;button&gt;button3&lt;/button&gt;
      &lt;button&gt;button4&lt;/button&gt;
      &lt;button&gt;button5&lt;/button&gt;
      &lt;button&gt;button6&lt;/button&gt;

    &lt;/div&gt;
    &lt;div class=&quot;container&quot; id=&quot;myscroller&quot; ref=&quot;myscroller&quot;
       @touchmove=&quot;touchMove($event)&quot;
     &gt;
      &lt;div class=&quot;item&quot; v-for=&quot;(item,index) in 20&quot; v-bind:key=&quot;index&quot;&gt;{{item}}&lt;/div&gt;

    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
// import HelloWorld from './components/HelloWorld.vue'

export default {
  name: 'app',
  components: {
    // HelloWorld

  },
  data () {
    return {
      showmenu:true
    }
  },
  methods : {
    /* eslint-disable no-console */
    touchMove () {
      console.log('touchMove')
      console.log(this.$refs.myscroller.scrollTop)
      let offset = this.$refs.myscroller.scrollTop
      if (offset &gt; 250) {
        console.log('hidehidehidehide')
        this.showmenu = false
      } else if(offset &lt; 250 ) {
        console.log('showshowshowshow')
        this.showmenu = true
      }
    }
  },
  mounted() {
    var loader = document.getElementById('loader-wrapper');
    setTimeout(() =&gt; {
      loader &amp;&amp; document.body.removeChild(loader)
    }, 1000);
  }
}
&lt;/script&gt;

&lt;style&gt;
* {
  margin: 0;
  padding: 0;
}
body {
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background-color: #33C379;
  position: relative;
}


#app {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background-color: #224b8f;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

.menu {
  width: 100%;
  height: 300px;
  background-color: #f47920;
  flex-shrink: 0;
  transition: all 1.0s ease-in-out;
}

.menu button {
    background-color: antiquewhite;
    width: 100px;
    height: 44px;
}

.container {
  width: 100%;
  background-color: #6f60aa;
  flex-grow: 1;
  overflow-y: scroll;
  opacity: 0.5;
}

.item {
  height: 200px;
  width: 100%;
  background-color: #dea32c;
  border: thin solid #00a6ac;
}

.menu-show {
  margin-top:0px;
}

.menu-hide {
  margin-top: -300px;
}
&lt;/style&gt;


</code></pre>

  </div>
</div>

<div class="container has-text-centered">
 
</div>

<div class="container has-text-centered">
  
</div>
<section class="section">
  <div class="container has-text-centered">
    
  </div>
</section>


